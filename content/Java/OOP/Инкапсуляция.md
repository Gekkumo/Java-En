---
---
Инкапсуляция в Java - это один из четырех основных принципов объектно-ориентированного программирования ([[ООП]]), который заключается в сокрытии внутреннего состояния объекта и предоставлении контролируемого доступа к нему через методы

## Зачем нужна?

- **Проблема:** Прямой доступ к данным объекта позволяет изменять их непредсказуемым образом, что приводит к нарушению целостности объекта
- **Преимущества:**
    - Защита данных от некорректного использования
    - Гибкость изменения внутренней реализации без влияния на клиентский код
    - Упрощение отладки (контроль всех изменений состояния)
- **Без инкапсуляции:** Объекты были бы уязвимы для случайного или злонамеренного изменения, код стал бы хрупким и сложным в поддержке

## Суть концепта

- Объединение данных и методов работы с ними в одном классе
- Сокрытие внутренней реализации от внешнего мира
- Предоставление контролируемого интерфейса для взаимодействия
- **Аналогия:** Банкомат - вы не можете напрямую достать деньги из сейфа, но можете использовать интерфейс (кнопки) для выполнения разрешенных операций

## Как реализуется?

- Модификаторы доступа: `private`, `protected`, `public`
- Геттеры (getters) и сеттеры (setters) для контролируемого доступа
- Ключевое слово `this` для обращения к полям объекта
- **Важные нюансы:**
    - Поля обычно делают `private`
    - Для доступа создают публичные методы
    - В сеттерах можно добавлять проверки валидности данных

## Пример кода

``` java
public class BankAccount {
    // Приватные поля - данные защищены от прямого доступа
    private String accountNumber;
    private double balance;
    
    // Конструктор с валидацией
    public BankAccount(String accountNumber, double initialBalance) {
        this.accountNumber = accountNumber;
        deposit(initialBalance);  // Используем метод для пополнения
    }
    
    // Геттер для номера счета - только чтение
    public String getAccountNumber() {
        return accountNumber;
    }
    
    // Геттер для баланса - только чтение
    public double getBalance() {
        return balance;
    }
    
    // Публичный метод для пополнения с проверкой
    public void deposit(double amount) {
        if (amount > 0) {
            balance += amount;  // Контролируемое изменение баланса
        }
    }
    
    // Публичный метод для снятия с проверками
    public boolean withdraw(double amount) {
        if (amount > 0 && amount <= balance) {
            balance -= amount;  // Безопасное изменение
            return true;
        }
        return false;  // Защита от перерасхода
    }
}
```

## Связи

- **Включает в себя:**
    - Сокрытие данных
    - Контролируемый доступ через методы
    - Абстракцию реализации
- **Является частью:**
    - Объектно-ориентированного программирования ([[ООП]])
    - Принципов [[SOLID]] (в частности, принципа единственной ответственности)
- **Связанные концепты:**
    - [[Наследование]] (наследники могут использовать защищенные методы)
    - [[Полиморфизм]] (работа через публичный интерфейс)
    - [[Абстракция]] (скрытие сложности реализации)
    - Модификаторы доступа